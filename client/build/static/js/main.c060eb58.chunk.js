(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(21),a=n.n(r),s=n(6),i=n.n(s),o=n(10),l=n(7),d=(n(57),n(45)),u=n.n(d),j=n(46),b=n.n(j),p=n(5),h=n(8),O=n(43),m=n(4),x=n(0),f=function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(m.c)((function(e){return e.products})).cart,s=Object(m.b)(),d=Object(p.h)(),j=(Object(p.g)(),function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==window.confirm("Do you really want to logout?")){e.next=8;break}return r(null),e.next=5,s({type:"LOGOUT"});case 5:return e.next=7,s({type:"REMOVE_ALL_CART"});case 7:window.location.href="/login";case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(c.useEffect)((function(){var e=null===n||void 0===n?void 0:n.token;e&&(1e3*Object(O.a)(e).exp<(new Date).getTime()&&j())}),[d]),Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)(h.b,{to:"/",children:Object(x.jsx)("img",{className:"header_logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"logo"})}),Object(x.jsxs)("div",{className:"header_search",children:[Object(x.jsx)("input",{className:"header_searchInput",type:"text"}),Object(x.jsx)(u.a,{className:"header_searchIcon"})]}),Object(x.jsxs)("div",{className:"header_nav",children:[Object(x.jsx)(h.b,{to:(null===n||void 0===n?void 0:n.result)?"/account-settings":"/login",children:Object(x.jsxs)("div",{className:"header_option dropdown",children:[Object(x.jsx)("span",{className:"header_optionLineOne",children:"Hello"}),Object(x.jsx)("span",{className:"header_optionLineTwo",children:(null===n||void 0===n?void 0:n.result)?(null===n||void 0===n?void 0:n.result.name)+"\u25bc":"Sign In"}),(null===n||void 0===n?void 0:n.result)?Object(x.jsxs)("div",{className:"dropdown-content",children:[Object(x.jsx)(h.b,{to:"/account-settings",children:"Your Account"}),Object(x.jsx)(h.b,{to:(null===n||void 0===n?void 0:n.result)?"#":"/login",onClick:(null===n||void 0===n?void 0:n.result)?j:null,children:"Sign Out?"})]}):null]})}),Object(x.jsx)(h.b,{onClick:function(){if(!(null===n||void 0===n?void 0:n.result))return alert("Please create an account or Login")},to:(null===n||void 0===n?void 0:n.result)?"/orders":"/",children:Object(x.jsxs)("div",{className:"header_option",children:[Object(x.jsx)("span",{className:"header_optionLineOne",children:"Returns"}),Object(x.jsx)("span",{className:"header_optionLineTwo",children:"& Orders"})]})}),Object(x.jsx)(h.b,{onClick:function(){if(!(null===n||void 0===n?void 0:n.result))return alert("Please create an account or Login")},to:"/",children:Object(x.jsxs)("div",{className:"header_option",children:[Object(x.jsx)("span",{className:"header_optionLineOne",children:"Your"}),Object(x.jsx)("span",{className:"header_optionLineTwo",children:"Prime"})]})}),Object(x.jsx)(h.b,{onClick:function(){if(!(null===n||void 0===n?void 0:n.result))return alert("Please create an account or Login")},to:(null===n||void 0===n?void 0:n.result)?"/checkout":"/",children:Object(x.jsxs)("div",{className:"header_optionBasket",children:[Object(x.jsx)(b.a,{}),Object(x.jsx)("span",{className:"header_optionLineTwo header_basketCount",children:(null===a||void 0===a?void 0:a.length)?a.length:"0"})]})})]})]})},v=(n(65),n(28)),g=n.n(v),_=g.a.create({baseURL:"http://localhost:5000"});_.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var y=function(e){return _.post("/products/api/newProduct",e)},N=function(e){return _.post("/user/api/signup",e)},S=function(e){return _.post("/user/api/signin",e)},k=function(e,t){return _.patch("/user/api/add/usercart/".concat(e,"/").concat(t))},w=function(e,t){return _.patch("/user/api/remove/usercart/".concat(e,"/").concat(t))},C=function(e){return _.get("/user/api/get-cart-items/usercart/".concat(e))},A=function(e){return _.get("/user/api/get-user-orders/userorders/".concat(e))},E=function(e,t){return _.post("/user/api/add/user-new-address/".concat(e),t)},D=function(e){return _.get("/user/api/get-user-addresses/".concat(e))},T=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n){var c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(e);case 3:c=t.sent,r=c.data.result,n({type:"ADD_TO_BASKET",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),alert(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},I=function(e){return function(){var t=Object(o.a)(i.a.mark((function t(n){var c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D(e);case 3:c=t.sent,r=c.data.result,n({type:"USER_ADDRESSES",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),alert(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()};n(85);var P=function(e){var t=e.id,n=e.title,r=e.image,a=e.price,s=e.rating,d=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),u=Object(l.a)(d,2),j=u[0],b=(u[1],Object(m.b)());return Object(x.jsxs)("div",{className:"product",children:[Object(x.jsxs)("div",{className:"product__info",children:[Object(x.jsx)("p",{children:n}),Object(x.jsxs)("p",{className:"product__price",children:[Object(x.jsx)("small",{children:"\u20b9"}),Object(x.jsx)("strong",{children:a})]}),Object(x.jsx)("div",{className:"product__rating",children:Array(s).fill().map((function(e,t){return Object(x.jsx)("p",{children:"\u2b50"})}))})]}),Object(x.jsx)("img",{src:r,alt:""}),Object(x.jsx)("button",{onClick:function(){(null===j||void 0===j?void 0:j.result)?b(function(e,t){return function(){var n=Object(o.a)(i.a.mark((function n(c){var r,a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k(e,t);case 3:r=n.sent,a=r.data.result,c({type:"ADD_TO_BASKET",payload:a}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,null===j||void 0===j?void 0:j.result._id)):alert("Please create an account to buy products")},children:"Add to Basket"})]})},R=function(){var e=Object(m.b)(),t=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),n=Object(l.a)(t,2),r=n[0],a=(n[1],Object(m.c)((function(e){return e.products}))),s=a.products,d=a.isLoading;return Object(c.useEffect)((function(){e(function(){var e=Object(o.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"IS_LOADING_TRUE"}),e.next=4,_.get("/products/api/fetch-products");case 4:n=e.sent,c=n.data,t({type:"FETCH_PRODUCTS",payload:c}),t({type:"IS_LOADING_FALSE"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),r&&e(T(null===r||void 0===r?void 0:r.result._id))}),[]),Object(x.jsx)("div",{className:"home",children:Object(x.jsxs)("div",{className:"home__container",children:[Object(x.jsx)("img",{className:"home__image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:""}),d?null:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"home__row",children:s.products.map((function(e,t){if(t<2)return Object(x.jsx)(P,{id:e._id,title:e.name,price:e.price,rating:5,image:e.imageFile},t)}))}),Object(x.jsx)("div",{className:"home__row",children:s.products.map((function(e,t){if(t>1&&t<5)return Object(x.jsx)(P,{id:e._id,title:e.name,price:e.price,rating:5,image:e.imageFile},t)}))}),Object(x.jsx)("div",{className:"home__row",children:s.products.map((function(e,t){if(5===t)return Object(x.jsx)(P,{id:e._id,title:e.name,price:e.price,rating:5,image:e.imageFile},t)}))})," "]})]})})};n(86),n(87);var F=function(e){var t=e.id,n=e.image,r=e.title,a=e.price,s=e.rating,d=e.hideButton,u=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),j=Object(l.a)(u,2),b=j[0],p=(j[1],Object(m.b)());return Object(x.jsxs)("div",{className:"checkoutProduct",children:[Object(x.jsx)("img",{className:"checkoutProduct_image",alt:"",src:n}),Object(x.jsxs)("div",{className:"checkoutProduct_info",children:[Object(x.jsx)("p",{className:"checkoutProduct_title",children:r}),Object(x.jsxs)("p",{className:"checkoutProduct_price",children:[Object(x.jsx)("small",{children:"\u20b9"}),Object(x.jsx)("strong",{children:a})]}),Object(x.jsx)("div",{className:"checkoutProduct_rating",children:Array(s).fill().map((function(e,t){return Object(x.jsx)("p",{children:"\u2b50"})}))}),!d&&Object(x.jsx)("button",{onClick:function(){p(function(e,t){return function(){var n=Object(o.a)(i.a.mark((function n(c){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w(e,t);case 3:n.sent.data.result,c({type:"REMOVE_FROM_BASKET",payload:{id:e}}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,null===b||void 0===b?void 0:b.result._id))},children:"Remove from basket"})]})]})},L=n(22),z=n.n(L);n(89);var B=function(){var e=Object(p.g)(),t=Object(m.c)((function(e){return e.products})).cart,n=null===t||void 0===t?void 0:t.reduce((function(e,t){return t.price+e}),0);return Object(x.jsxs)("div",{className:"subtotal",children:[Object(x.jsx)(z.a,{renderText:function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{children:["Subtotal ",null===t||void 0===t?void 0:t.length," items: ",Object(x.jsx)("strong",{children:e})]}),Object(x.jsxs)("small",{className:"subtotal_gift",children:[Object(x.jsx)("input",{type:"checkbox"})," This order contains a gift"]})]})},value:n,decimalScale:2,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"}),Object(x.jsx)("button",{onClick:function(t){n>0?e.push("/payment"):alert("Please first add the products in cart")},children:"Proceed to Checkout"})]})},U=function(){var e=Object(m.b)(),t=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),n=Object(l.a)(t,2),r=n[0],a=(n[1],Object(m.c)((function(e){return e.products})).cart);return Object(c.useEffect)((function(){e(T(null===r||void 0===r?void 0:r.result._id))}),[e]),Object(x.jsxs)("div",{className:"checkout",children:[Object(x.jsxs)("div",{className:"checkout_left",children:[Object(x.jsx)("img",{className:"checkout_ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:"ad"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Hello user"}),Object(x.jsx)("h2",{className:"checkout_title",children:"Your shopping basket"}),null===a||void 0===a?void 0:a.map((function(e,t){return Object(x.jsx)(F,{id:e._id,title:e.name,image:e.imageFile,price:e.price},t)}))]})]}),Object(x.jsx)("div",{className:"checkout_right",children:Object(x.jsx)(B,{})})]})},J=(n(90),n(91),function(e){var t=e.name,n=e.tel,c=e.state,r=e.pincode,a=e.address,s=e.hidden;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:t}),Object(x.jsx)("p",{children:n}),Object(x.jsxs)("p",{children:[c,", ",r]}),Object(x.jsx)("p",{children:a}),s?null:Object(x.jsx)("div",{className:"editAddress",children:Object(x.jsx)(h.b,{to:"",children:"REMOVE"})})]})}),M=n(24),q=n.n(M),G=function(){var e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e)},H=(document.domain,function(){var e,t=Object(m.c)((function(e){return e.products})),n=t.cart,r=t.userAddresses,a=Object(m.b)(),s=Object(p.g)(),d=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),u=Object(l.a)(d,2),j=u[0],b=(u[1],null===n||void 0===n?void 0:n.reduce((function(e,t){return t.price+e}),0)),O=Object(c.useState)({name:"",tel:"",state:"",pincode:"",address:""}),f=Object(l.a)(O,2),v=f[0],_=f[1];Object(c.useEffect)((function(){a(T(null===j||void 0===j?void 0:j.result._id)),a(I(null===j||void 0===j?void 0:j.result._id))}),[a]),q()("input:checkbox").off().on("click",(function(e){q()(".check_class").attr("checked",!1),q()(this).attr("checked",!0);var t=JSON.parse(e.target.value);_({name:t.name,tel:t.tel,state:t.state,pincode:t.pincode,address:t.address})})),q()("input:checkbox").on("change",(function(e){q()("input:checkbox").not(this).prop("checked",!1)}));var y=function(){var t=Object(o.a)(i.a.mark((function t(){var n,c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:return t.next=4,g.a.post("http://localhost:5000/user/api/razorpay-order/".concat(null===j||void 0===j?void 0:j.result._id,"/").concat(b));case 4:n=t.sent,c=n.data,r={key:"rzp_test_CIq090UjfKIztC",amount:c.amount.toString(),currency:c.currency,description:"Thank you for choosing Amazon",image:"http://pngimg.com/uploads/amazon/amazon_PNG11.png",order_id:c.id,handler:function(t){e="undefined"==typeof t.razorpay_payment_id||t.razorpay_payment_id<1?"/order-failed-page/".concat(t.razorpay_payment_id):"/order-success-page/".concat(t.razorpay_payment_id,"/").concat(t.razorpay_order_id),s.push(e)},notes:{userId:null===j||void 0===j?void 0:j.result._id,deliveryAddress:JSON.stringify(v)},theme:{color:"#3399cc"}},new window.Razorpay(r).open();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{className:"payment",children:Object(x.jsxs)("div",{className:"payment_container",children:[Object(x.jsxs)("h1",{children:["Checkout (",Object(x.jsxs)(h.b,{to:"/checkout",children:[null===n||void 0===n?void 0:n.length," items"]}),")"]}),Object(x.jsxs)("div",{className:"payment_section",children:[Object(x.jsx)("div",{className:"payment_title",children:Object(x.jsx)("h3",{children:"Delivery Address"})}),Object(x.jsxs)("div",{className:"payment_address",children:[Object(x.jsx)("p",{children:null===j||void 0===j?void 0:j.result.email}),Object(x.jsx)("h4",{children:"Choose Address"}),r.map((function(e,t){return Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"checkbox",value:JSON.stringify(e),name:JSON.stringify(e.name)}),Object(x.jsx)(J,{name:e.name,tel:e.tel,state:e.state,pincode:e.pincode,address:e.address,hidden:!0},t)]})})),Object(x.jsx)("h3",{children:"or"}),Object(x.jsx)(h.b,{to:"/account-settings/add-new-address",children:"ADD NEW ADDRESS"})]})]}),Object(x.jsxs)("div",{className:"payment_section",children:[Object(x.jsx)("div",{className:"payment_title",children:Object(x.jsx)("h3",{children:"Review items and delivery"})}),Object(x.jsx)("div",{className:"payment_items",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(x.jsx)(F,{id:e._id,title:e.name,image:e.imageFile,price:e.price,hideButton:!0},t)}))})]}),Object(x.jsxs)("div",{className:"payment_section",children:[Object(x.jsx)("div",{className:"payment_title",children:Object(x.jsx)("h3",{children:"Payment Method"})}),Object(x.jsx)("div",{className:"payment_details",children:Object(x.jsxs)("div",{className:"payment_priceContainer",children:[Object(x.jsx)(z.a,{renderText:function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("h3",{children:["Order Total: ",e]})})},decimalScale:2,value:b,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"}),Object(x.jsx)("button",{onClick:y,target:"_blank",href:!0,children:Object(x.jsx)("span",{children:"Buy Now"})})]})})]})]})})}),Y=n(18),K=n(3),V=(n(92),n(47)),W=n.n(V),X=function(){var e=Object(m.b)(),t=Object(p.g)(),n=Object(c.useState)({title:"",description:"",price:"",imageFile:""}),r=Object(l.a)(n,2),a=r[0],s=r[1],d=function(e){s(Object(K.a)(Object(K.a)({},a),{},Object(Y.a)({},e.target.name,e.target.value)))};return Object(x.jsxs)("div",{className:"form",children:[Object(x.jsx)(h.b,{to:"/",children:Object(x.jsx)("img",{className:"form_logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:""})}),Object(x.jsxs)("div",{className:"form_container",children:[Object(x.jsx)("h1",{children:"New Product"}),Object(x.jsxs)("form",{autoComplete:"off",children:[Object(x.jsx)("h5",{children:"Product Title"}),Object(x.jsx)("input",{name:"title",type:"text",value:a.title,onChange:d,required:!0}),Object(x.jsx)("h5",{children:"Description"}),Object(x.jsx)("textarea",{name:"description",type:"text",value:a.description,onChange:d,required:!0}),Object(x.jsx)("h5",{children:"Price(in Rs.)"}),Object(x.jsx)("input",{name:"price",type:"number",value:a.price,onChange:d,required:!0}),Object(x.jsx)("h5",{children:"Add product image"}),Object(x.jsx)(W.a,{type:"file",onDone:function(e){var t=e.base64;return s(Object(K.a)(Object(K.a)({},a),{},{imageFile:t}))}}),Object(x.jsx)("button",{type:"submit",onClick:function(n){n.preventDefault();var c,r=(c=a.imageFile,new Blob([c]).size);""===a.description||""===a.imageFile||""===a.price||""===a.title?alert("Please fill all the required details"):r>2e5?(alert("Maximum file size allowed is 200kb"),s(Object(K.a)(Object(K.a)({},a),{},{imageFile:""}))):window.confirm("Are you sure to create new product?")&&e(function(e,t){return function(){var n=Object(o.a)(i.a.mark((function n(c){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y(e);case 3:n.sent.data,t.push("/"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(a,t))},className:"submit_FormButton",children:"Submit"})]})]})]})};var Z=function(){var e=Object(p.i)(),t=e.payId,n=e.orderId;return Object(x.jsx)("div",{children:18===t.toString().length&&20===n.toString().length?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Your order was placed successfully!"}),Object(x.jsxs)("h3",{children:["Go back to ",Object(x.jsx)("a",{href:"/orders",children:Object(x.jsx)("span",{children:"Orders"})})," page to see your orders or ",Object(x.jsx)("a",{href:"/",children:Object(x.jsx)("span",{children:"Continue Shopping"})})]})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"What are you doing here"}),Object(x.jsx)("a",{href:"/",children:Object(x.jsx)("span",{children:"Continue Shopping"})})]})})},Q=(n(93),function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(l.a)(e,2),n=t[0],r=(t[1],Object(m.b)()),a=Object(p.g)();Object(c.useEffect)((function(){r(T(null===n||void 0===n?void 0:n.result._id))}),[]);var s=Object(c.useState)({name:"",mobileNumber:"",state:"",pincode:"",address:""}),d=Object(l.a)(s,2),u=d[0],j=d[1],b=function(e){return j(Object(K.a)(Object(K.a)({},u),{},Object(Y.a)({},e.target.name,e.target.value)))};return Object(x.jsx)("div",{className:"addressBody",children:Object(x.jsxs)("div",{className:"addressForm",children:[Object(x.jsx)("h1",{children:"New Address"}),Object(x.jsxs)("form",{autoComplete:"off",children:[Object(x.jsx)("h3",{children:"Name"}),Object(x.jsx)("input",{name:"name",value:u.name,onChange:b,type:"text",required:!0}),Object(x.jsx)("h3",{children:"Mobile Number"}),Object(x.jsx)("input",{name:"mobileNumber",value:u.mobileNumber,onChange:b,type:"tel",placeholder:"+91",required:!0}),Object(x.jsx)("h3",{children:"State"}),Object(x.jsx)("input",{name:"state",value:u.state,onChange:b,type:"text",required:!0}),Object(x.jsx)("h3",{children:"Pincode"}),Object(x.jsx)("input",{name:"pincode",value:u.pincode,onChange:b,type:"tel",required:!0}),Object(x.jsx)("h3",{children:"Address Line (Flat No., Street, locality, etc.)"}),Object(x.jsx)("textarea",{name:"address",value:u.address,onChange:b,type:"text",required:!0})]}),Object(x.jsx)("button",{className:"addressSubmit",type:"submit",onClick:function(e){if(e.preventDefault(),""===u.name||""===u.mobileNumber||""===u.state||""===u.pincode||""===u.address)alert("Please enter all the required details");else if(u.mobileNumber.length<10||u.mobileNumber.length>10)alert("Enter a valid Mobile No.");else if(u.pincode.length<6||u.pincode.length>6)alert("Enter a valid Pincode");else{window.confirm("Are you sure to add a new address?")&&r(function(e,t,n){return function(){var c=Object(o.a)(i.a.mark((function c(r){var a,s;return i.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,E(e,t);case 3:a=c.sent,s=a.data.result,r({type:"USER_ADDRESSES",payload:s}),n.push("/account-settings"),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),alert(c.t0);case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(null===n||void 0===n?void 0:n.result._id,u,a))}},children:"Submit"})]})})}),$=(n(94),function(){var e=Object(c.useState)({email:"",password:"",name:""}),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),s=Object(l.a)(a,2),d=s[0],u=s[1],j=(Object(p.g)(),Object(m.b)()),b=function(e){return r(Object(K.a)(Object(K.a)({},n),{},Object(Y.a)({},e.target.name,e.target.value)))};return Object(x.jsxs)("div",{className:"login",children:[Object(x.jsx)(h.b,{to:"/",children:Object(x.jsx)("img",{className:"login_logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:""})}),Object(x.jsxs)("div",{className:"login_container",children:[d?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Sign Up"}),Object(x.jsxs)("form",{autoComplete:"off",children:[Object(x.jsx)("h5",{children:"Name"}),Object(x.jsx)("input",{name:"name",type:"text",value:n.name,onChange:b,required:!0}),Object(x.jsx)("h5",{children:"E-mail"}),Object(x.jsx)("input",{name:"email",type:"text",value:n.email,onChange:b,required:!0}),Object(x.jsx)("h5",{children:"Password"}),Object(x.jsx)("input",{name:"password",type:"password",value:n.password,onChange:b,required:!0})]}),Object(x.jsx)("p",{children:"By signing-up you agree to AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Internet-Based Ads Notice"}),Object(x.jsx)("button",{onClick:function(e){var t;e.preventDefault(),""===n.email||""===n.password?alert("Please enter the asked details"):j((t=n,function(){var e=Object(o.a)(i.a.mark((function e(n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:c=e.sent,r=c.data,n({type:"AUTH",data:r}),window.location.href="/",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},className:"login_registerButton",children:"Create your Amazon account"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Sign In"}),Object(x.jsxs)("form",{autoComplete:"off",children:[Object(x.jsx)("h5",{children:"E-mail"}),Object(x.jsx)("input",{name:"email",type:"text",value:n.email,onChange:b,required:!0}),Object(x.jsx)("h5",{children:"Password"}),Object(x.jsx)("input",{name:"password",type:"password",value:n.password,onChange:b,required:!0}),Object(x.jsx)("button",{type:"submit",onClick:function(e){var t;e.preventDefault(),""===n.email||""===n.password?alert("Please enter the asked details"):j((t=n,function(){var e=Object(o.a)(i.a.mark((function e(n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(t);case 3:c=e.sent,r=c.data,n({type:"AUTH",data:r}),window.location.href="/",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))},className:"login_signInButton",children:"Sign In"})]})]}),Object(x.jsx)("p",{className:"isSignUp",onClick:function(e){u(!d),r({email:"",password:"",name:""})},children:d?"Already have an account? Sign In":"Don't have an account? Sign Up"})]})]})}),ee=(n(95),n(96),n(48)),te=n.n(ee);var ne=function(e){var t=e.order;return Object(x.jsxs)("div",{className:"order",children:[Object(x.jsx)("h2",{children:"Order"}),Object(x.jsx)("p",{children:te.a.unix(t.orderTime).format("MMMM Do YYYY, h:mma")}),Object(x.jsx)("p",{className:"order_id",children:Object(x.jsx)("small",{children:t.orderId})}),t.items.map((function(e,t){return Object(x.jsx)(F,{id:e._id,title:e.name,image:e.imageFile,price:e.price,rating:5,hideButton:!0},t)})),Object(x.jsx)(z.a,{renderText:function(e){return Object(x.jsxs)("h3",{children:["Order Total: ",e]})},decimalScale:2,value:t.amount/100,displayType:"text",thousandSeparator:!0,prefix:"\u20b9"})]})},ce=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.products})).orders,n=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),r=Object(l.a)(n,2),a=r[0];r[1];return Object(c.useEffect)((function(){var t;e((t=null===a||void 0===a?void 0:a.result._id,function(){var e=Object(o.a)(i.a.mark((function e(n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(t);case 3:c=e.sent,r=c.data.result,n({type:"FETCH_ORDERS",payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),e(T(null===a||void 0===a?void 0:a.result._id))}),[]),Object(x.jsxs)("div",{className:"orders",children:[Object(x.jsx)("h1",{children:"Your Orders"}),Object(x.jsx)("div",{className:"orders_order",children:null===t||void 0===t?void 0:t.map((function(e){return Object(x.jsx)(ne,{order:e},e._id)}))})]})},re=(n(98),function(){var e=Object(c.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(l.a)(e,2),n=t[0],r=(t[1],Object(m.b)()),a=Object(m.c)((function(e){return e.products})).userAddresses;return Object(c.useEffect)((function(){r(I(null===n||void 0===n?void 0:n.result._id)),r(T(null===n||void 0===n?void 0:n.result._id))}),[r]),Object(x.jsx)("div",{className:"accountPage",children:Object(x.jsxs)("div",{className:"addressesContainer",children:[Object(x.jsx)("h1",{children:"Your Addresses:"}),Object(x.jsxs)("div",{className:"addresses",children:[a.map((function(e,t){return Object(x.jsx)("div",{className:"address",children:Object(x.jsx)(J,{name:e.name,tel:e.tel,state:e.state,pincode:e.pincode,address:e.address},t)})})),Object(x.jsx)(h.b,{to:"/account-settings/add-new-address",children:"ADD NEW ADDRESS"})]})]})})}),ae=function(){var e=JSON.parse(localStorage.getItem("profile"));return Object(x.jsx)(h.a,{children:Object(x.jsxs)(p.d,{children:[Object(x.jsx)(p.b,{exact:!0,path:"/login",render:function(){return e?Object(x.jsx)(p.a,{to:"/"}):Object(x.jsx)($,{})}}),Object(x.jsx)(p.b,{exact:!0,path:"/newProduct",render:function(){return"kediaarts@gmail.com"===e.result.contactInfo.email?Object(x.jsx)(X,{}):Object(x.jsx)(p.a,{to:"/"})}}),Object(x.jsx)(p.b,{exact:!0,path:"/order-success-page/:payId/:orderId",render:function(){return e?Object(x.jsx)(Z,{}):Object(x.jsx)(p.a,{to:"/"})}}),Object(x.jsx)(p.b,{component:function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(f,{}),Object(x.jsxs)(p.d,{children:[Object(x.jsx)(p.b,{exact:!0,path:"/account-settings",render:function(){return e?Object(x.jsx)(re,{}):Object(x.jsx)(p.a,{to:"/"})}}),Object(x.jsx)(p.b,{exact:!0,path:"/orders",render:function(){return e?Object(x.jsx)(ce,{}):Object(x.jsx)(p.a,{to:"/"})}}),Object(x.jsx)(p.b,{exact:!0,path:"/checkout",render:function(){return e?Object(x.jsx)(U,{}):Object(x.jsx)(p.a,{to:"/"})}}),Object(x.jsx)(p.b,{exact:!0,path:"/payment",render:function(){return e?Object(x.jsx)(H,{}):Object(x.jsx)(p.a,{to:"/"})}}),Object(x.jsx)(p.b,{exact:!0,path:"/account-settings/add-new-address",render:function(){return e?Object(x.jsx)(Q,{}):Object(x.jsx)(p.a,{to:"/"})}}),Object(x.jsx)(p.b,{exact:!0,path:"/",component:R})]})]})}})]})})},se=n(23),ie=n(49),oe=(n(99),n(50)),le={isLoading:!0,products:[],cart:[],orders:[],userAddresses:[]},de={authData:null,loading:!1,errors:null},ue=Object(se.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return localStorage.setItem("profile",JSON.stringify(Object(K.a)({},null===t||void 0===t?void 0:t.data))),Object(K.a)(Object(K.a)({},e),{},{authData:null===t||void 0===t?void 0:t.data,loading:!1,errors:null});case"LOGOUT":return localStorage.clear(),Object(K.a)(Object(K.a)({},e),{},{authData:null});default:return""}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOADING_TRUE":return Object(K.a)(Object(K.a)({},e),{},{isLoading:!0});case"IS_LOADING_FALSE":return Object(K.a)(Object(K.a)({},e),{},{isLoading:!1});case"ADD_TO_BASKET":return Object(K.a)(Object(K.a)({},e),{},{cart:t.payload});case"REMOVE_FROM_BASKET":var n=e.cart.findIndex((function(e){return e._id===t.payload.id})),c=Object(oe.a)(e.cart);return n>=0?c.splice(n,1):alert("Cant remove product as its not in basket!"),Object(K.a)(Object(K.a)({},e),{},{cart:c});case"FETCH_PRODUCTS":return Object(K.a)(Object(K.a)({},e),{},{products:t.payload});case"FETCH_ORDERS":return Object(K.a)(Object(K.a)({},e),{},{orders:t.payload});case"REMOVE_ALL_CART":return Object(K.a)(Object(K.a)({},e),{},{cart:[]});case"USER_ADDRESSES":return Object(K.a)(Object(K.a)({},e),{},{userAddresses:t.payload});default:return e}}}),je=Object(se.d)(ue,{},Object(se.c)(Object(se.a)(ie.a)));a.a.render(Object(x.jsx)(m.a,{store:je,children:Object(x.jsx)(ae,{})}),document.getElementById("root"))},57:function(e,t,n){},65:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.c060eb58.chunk.js.map